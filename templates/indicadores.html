<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indicadores UTI</title>
    <!-- Incluindo o Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Indicadores UTI</h1>

    <h3>Visão Geral dos Indicadores</h3>

    <!-- Gráfico de Barras para Taxa de Readmissão em 24h -->
    <canvas id="taxaReadmissaoChart" width="400" height="200"></canvas>
    <script>
        var ctx = document.getElementById('taxaReadmissaoChart').getContext('2d');
        var taxaReadmissaoChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Taxa de Readmissão em 24h'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_readmissao_24h'] }}],
                    backgroundColor: '#3498db',
                    borderColor: '#2980b9',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Óbitos em 24h -->
    <canvas id="taxaObitosChart" width="400" height="200"></canvas>
    <script>
        var ctx2 = document.getElementById('taxaObitosChart').getContext('2d');
        var taxaObitosChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['Taxa de Óbitos em 24h'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_obitos_24h'] }}],
                    backgroundColor: '#e74c3c',
                    borderColor: '#c0392b',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Óbitos Acidentais (> 24h) -->
    <canvas id="taxaObitosAcidentaisChart" width="400" height="200"></canvas>
    <script>
        var ctx3 = document.getElementById('taxaObitosAcidentaisChart').getContext('2d');
        var taxaObitosAcidentaisChart = new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: ['Taxa de Óbitos Acidentais (> 24h)'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_obitos_acidentais_24h'] }}],
                    backgroundColor: '#f39c12',
                    borderColor: '#e67e22',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Extubação Não Planejada -->
    <canvas id="taxaExtubacaoNaoPlanejadaChart" width="400" height="200"></canvas>
    <script>
        var ctx4 = document.getElementById('taxaExtubacaoNaoPlanejadaChart').getContext('2d');
        var taxaExtubacaoNaoPlanejadaChart = new Chart(ctx4, {
            type: 'bar',
            data: {
                labels: ['Taxa de Extubação Não Planejada'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_extubacao_nao_planejada'] }}],
                    backgroundColor: '#2ecc71',
                    borderColor: '#27ae60',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Quedas -->
    <canvas id="taxaQuedasChart" width="400" height="200"></canvas>
    <script>
        var ctx5 = document.getElementById('taxaQuedasChart').getContext('2d');
        var taxaQuedasChart = new Chart(ctx5, {
            type: 'bar',
            data: {
                labels: ['Taxa de Quedas'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_quedas'] }}],
                    backgroundColor: '#9b59b6',
                    borderColor: '#8e44ad',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Infecção por CVC -->
    <canvas id="taxaInfeccaoPorCvcChart" width="400" height="200"></canvas>
    <script>
        var ctx6 = document.getElementById('taxaInfeccaoPorCvcChart').getContext('2d');
        var taxaInfeccaoPorCvcChart = new Chart(ctx6, {
            type: 'bar',
            data: {
                labels: ['Taxa de Infecção por CVC'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_infeccao_por_cvc'] }}],
                    backgroundColor: '#f1c40f',
                    borderColor: '#f39c12',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Reinternação em 30 dias -->
    <canvas id="taxaReinternacao30dChart" width="400" height="200"></canvas>
    <script>
        var ctx7 = document.getElementById('taxaReinternacao30dChart').getContext('2d');
        var taxaReinternacao30dChart = new Chart(ctx7, {
            type: 'bar',
            data: {
                labels: ['Taxa de Reinternação em 30 dias'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_reinternacao_30d'] }}],
                    backgroundColor: '#e67e22',
                    borderColor: '#d35400',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Alta Até 10h -->
    <canvas id="taxaAltaAté10hChart" width="400" height="200"></canvas>
    <script>
        var ctx8 = document.getElementById('taxaAltaAté10hChart').getContext('2d');
        var taxaAltaAté10hChart = new Chart(ctx8, {
            type: 'bar',
            data: {
                labels: ['Taxa de Alta Até 10h'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_alta_ate_10h'] }}],
                    backgroundColor: '#16a085',
                    borderColor: '#1abc9c',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Pacientes com SNG/SNE -->
    <canvas id="taxaPacientesComSngSneChart" width="400" height="200"></canvas>
    <script>
        var ctx9 = document.getElementById('taxaPacientesComSngSneChart').getContext('2d');
        var taxaPacientesComSngSneChart = new Chart(ctx9, {
            type: 'bar',
            data: {
                labels: ['Taxa de Pacientes com SNG/SNE'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_pacientes_com_sng_sne'] }}],
                    backgroundColor: '#f39c12',
                    borderColor: '#e67e22',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <!-- Gráfico de Barras para Taxa de Pacientes com AVP -->
    <canvas id="taxaPacientesComAvpChart" width="400" height="200"></canvas>
    <script>
        var ctx10 = document.getElementById('taxaPacientesComAvpChart').getContext('2d');
        var taxaPacientesComAvpChart = new Chart(ctx10, {
            type: 'bar',
            data: {
                labels: ['Taxa de Pacientes com AVP'],
                datasets: [{
                    label: 'Valor (%)',
                    data: [{{ indicadores['taxa_pacientes_com_avp'] }}],
                    backgroundColor: '#2980b9',
                    borderColor: '#3498db',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });
    </script>

    <br>
    <a href="{{ url_for('formulario') }}">Inserir Novo Registro</a>
</body>
</html>
